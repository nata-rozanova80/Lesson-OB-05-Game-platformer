# Lesson-OB-05-Game-platformer

# Платформер на Pygame "Винни-пух"

Это простая игра-платформер, разработанная с использованием библиотеки Pygame. Игрок управляет героем, который должен собирать монеты, избегать врагов и избегать падения с платформ. Игра имеет механизмы победы и поражения, а также физику с гравитацией и прыжками.

## Особенности игры

- **Герой**: Игрок управляет персонажем, который может двигаться влево и вправо, прыгать и собирать монеты.
- **Платформы**: Платформы случайным образом генерируются по экрану, и игрок должен на них приземляться, чтобы не упасть.
- **Монеты**: Игрок должен собирать монеты, чтобы выиграть игру.
- **Враги**: На платформы могут случайным образом появляться враги, которых следует избегать, так как столкновение с ними уменьшает количество жизней героя.
- **Гравитация и прыжки**: Игрок может прыгать, и на его движение влияет гравитация.

## Управление

- **Левая клавиша стрелки** — движение влево.
- **Правая клавиша стрелки** — движение вправо.
- **Клавиша "вверх"** — прыжок.

## Правила игры

- Игрок начинает с 3 жизнями.
- Для победы необходимо собрать 5 монет.
- Если персонаж столкнется с врагом, он потеряет жизнь.
- Если у игрока заканчиваются жизни, игра заканчивается.
- Игра заканчивается как при победе, так и при поражении.

## Структура классов

### Hero (Герой)

Класс, представляющий главного героя. Он может двигаться, прыгать и собирать монеты.

- **Методы**:
  - `update()`: Обновляет состояние героя (движение, прыжок, столкновение с платформами).
  - `collect_coin()`: Увеличивает количество собранных монет.
  - `fall()`: Падение героя до платформы или до нижней границы экрана.

### Enemy (Враг)

Класс для врагов, которые случайным образом размещаются на экране. Если игрок сталкивается с врагом, он теряет жизнь.

### Coin (Монета)

Класс для монет, которые игрок может собирать для победы.

### Platform (Платформа)

Класс для платформ, на которых может стоять игрок. Платформы случайным образом генерируются по экрану.

### Прочее

- **Гравитация**: На героя влияет сила гравитации, что заставляет его падать, если он не находится на платформе.
- **Платформы и враги**: Количество платформ и врагов на экране генерируется случайным образом.

## Требования

- Python 3.x
- Pygame (можно установить с помощью команды: `pip install pygame`)

## Как запустить игру

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/platformer-game.git
   cd platformer-game

### Объяснение некоторых переменных и функций:
1. **Гравитация и падение**:
   - Добавлена переменная `vel_y`, которая управляет вертикальной скоростью персонажа.
   - При нажатии на кнопку "вверх" задаётся отрицательное значение для `vel_y`, чтобы осуществить прыжок.
   - При каждом обновлении `vel_y` увеличивается на значение гравитации, что заставляет персонажа падать.
   - Метод `fall()` реализует падение игрока до следующей платформы или до нижней границы экрана.

2. **Проверка нахождения на платформе**:
   - Метод `on_ground()` проверяет, находится ли персонаж на платформе, с использованием `pygame.sprite.spritecollide()`.

3. Флаг on_ground_flag:
   - Добавлен флаг on_ground_flag, который указывает, находится ли герой на земле. Он сбрасывается при прыжке и устанавливается обратно, когда герой достигает земли или платформы.

4. Прыжок:
   - При нажатии кнопки "вверх" (K_UP) герой может прыгать только если он находится на земле (on_ground_flag).

5. Гравитация и падение:
   - Если координаты y героя достигают 500, мы сбрасываем вертикальную скорость и устанавливаем флаг on_ground_flag в True.
   - Если герой не на земле, проверяем, находится ли он на платформе, чтобы правильно обрабатывать падение.
